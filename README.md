# ПСС Ассистент

Прототип системы для автоматизации сбора и анализа данных по подразделениям Поисково-спасательной службы (ПСС) из ежедневных Excel-журналов. Система позволяет загружать журналы выездов и занятий, выделять записи ПСС, обогащать их с помощью языковой модели (GigaChat), накапливать в базе данных и отвечать на аналитические вопросы на естественном языке через чат-интерфейс с визуализацией.

## Возможности
- **ETL-модуль**: загрузка Excel-файлов, фильтрация по ключевым словам, структурирование текста описаний через LLM (извлечение типа происшествия, результата, времени), дедупликация и сохранение в БД.
- **Агент на базе LangChain + GigaChat**: преобразование вопросов в параметры запросов к БД (без прямой генерации SQL), формирование ответов с указанием типа визуализации (таблица, график).
- **Чат с контекстом**: сохранение истории диалога, отправка промежуточных статусов («Анализирую…», «Ищу данные…», «Формирую ответ…»).
- **API на FastAPI**: HTTP-эндпоинты для запуска ETL и просмотра данных, WebSocket для чата.
- **Фронтенд**: интерфейс для общения с агентом, отображение таблиц и графиков, управление ETL.

## Технологический стек
- **Язык**: Python 3.10+
- **Фреймворки**: FastAPI, LangChain
- **LLM**: GigaChat (через API)
- **База данных**: PostgreSQL / SQLite (на выбор), SQLAlchemy
- **Обработка данных**: pandas, openpyxl
- **Фронтенд**: Streamlit (или кастомный JS с Chart.js)

## Быстрый старт
1. Клонируйте репозиторий.
2. Установите зависимости: `pip install -r requirements.txt`
3. Настройте переменные окружения (см. `.env.example`): API-ключ GigaChat, параметры БД.
4. Запустите бэкенд: `uvicorn app.main:app --reload`
5. Запустите фронтенд

Подробности — в документации (добавить позже).
